---
import type { CafeNavItems } from "./types";
export type Props = {
  items: CafeNavItems;
};

const id = "cafe-nav";

const { items } = Astro.props;
---

<nav class="nav" aria-labelledby={id}>
  <h2 class="nav__title" id={id}>地区で絞る</h2>
  <ul class="nav__list">
    {
      items.map(({ title, href, isCurrent = false, isActive = false }) => (
        <li class="nav__item">
          <a
            href={href}
            class="nav__link"
            aria-current={isCurrent ? "page" : undefined}
            data-active={isActive ? "true" : undefined}
          >
            {title}
          </a>
        </li>
      ))
    }
  </ul>
</nav>

<style>
  .nav {
    display: grid;
    row-gap: 1rem;
    padding: 1rem;
    border: 1px solid var(--c-gray-dark);
    border-radius: 2px;
  }

  .nav__list {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    list-style: none;
  }

  .nav__link {
    display: inline-block;
    padding: 1rem;
    font-weight: 700;
    text-decoration: none;
    border: 2px solid;
    border-radius: 2px;
  }

  .nav__link[data-active="true"] {
    color: var(--c-blue-dark);
    background-color: var(--c-orange);
    border-color: currentcolor;
  }

  .nav__link:not([data-active="true"]) {
    color: var(--c-blue-dark);
    border-color: var(--c-gray-dark);
  }

  .nav__link:not([data-active="true"]):focus-visible {
    background-color: var(--c-orange-light);
    border-color: currentcolor;
  }

  @media (hover) {
    .nav__link:not([data-active="true"]):hover {
      background-color: var(--c-orange-light);
      border-color: currentcolor;
    }
  }

  @media (width >= 64em) {
    .nav__title {
      font-size: var(--fz-lg);
    }
  }

  @media (prefers-color-scheme: dark) {
    .nav {
      border-color: var(--c-black-light);
    }

    .nav__link[data-active="true"] {
      color: var(--c-gray);
      background-color: var(--c-orange-dark);
    }

    .nav__link:not([data-active="true"]) {
      color: var(--c-gray);
      border-color: var(--c-black-light);
    }

    .nav__link:not([data-active="true"]):focus-visible {
      background-color: var(--c-orange-darkest);
      border-color: var(--c-gray);
    }
  }

  @media (prefers-color-scheme: dark) and (hover) {
    .nav__link:not([data-active="true"]):hover {
      background-color: var(--c-orange-darkest);
      border-color: var(--c-gray);
    }
  }
</style>
